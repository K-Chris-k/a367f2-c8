<style>
  .back-to-top {
    position: fixed;
    {% comment %} bottom: calc(var(--mobile-sticky-bar-height, 0px) + var(--sticky-atc-bar-height, 0px) + 1.5rem); {% endcomment %}
    bottom:235px!important;
    right: 2rem;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
    z-index: 10;
  }
  .back-to-top button {
    width:48px;
    height:48px;
    background: rgb(var(--color-button));
    color: rgb(var(--color-button-text));
    border: 0;
    box-shadow: 0px 0px 14px 0px rgba(0, 0, 0, 0.08);
    backdrop-filter: blur(0px);
  }
   .back-to-top .btn:not(.btn--plain):not(.btn--underline,.btn--inherit):before, .btn--bordered-icon .button-icon:before{
     background:none!important;
   }
  .back-to-top .btn:hover {background:none!important;border-color:#fff!important;
    color:rgb(var(--color-button-text))!important;--color-border:none!important;}
  .mobile-sticky-bar-down .back-to-top {
    bottom: calc(var(--sticky-atc-bar-height, 0px) + 1.5rem);
  }
  .back-to-top svg {
    transform: rotate(-90deg);
  }
  .back-to-top.show {
    background:#fff;
    border-radius:50%;
    opacity: 1;
    visibility: visible;
  }
  @media (max-width: 767.98px) {
      .back-to-top{bottom:205px!important;}
      .back-to-top button {width:42px;height:42px}
  }
  @media (max-width: 375px) {
      {% comment %} .back-to-top{bottom:17vh} {% endcomment %}
  }
</style>
<back-to-top class="block back-to-top">
  <button class="btn btn--icon">
    {% render 'icon-arrow' %}
  </button>
</back-to-top>

<script>
  class BackToTop extends HTMLElement {
    constructor() {
      super();
      this.addEventListener('click', this.scrollToTop);
    }

    connectedCallback() {
      window.addEventListener('scroll', this.toggleVisibility.bind(this));
    }

    scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth',
      });
    }

    toggleVisibility() {
      if (window.scrollY > 400) {
        this.classList.add('show');
      } else {
        this.classList.remove('show');
      }
    }
  }

  customElements.define('back-to-top', BackToTop);
</script>
