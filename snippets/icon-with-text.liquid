{% comment %}
  Renders icon or image with text list up to 3 items

  Accepts:
  - layout: {String} List layout to display. Accepts: horizontal or vertical.
  - title_font: {String} Font family for headings. Accepts: heading or body.
  - title_size: {String} Font size for headings.
  - heading_1: {String} Text of heading to display
  - image_1: {String} Image to show
  - icon_1: {String} Icon to show if the given image blank

  Usage:
  {% render 'icon-with-text',
    heading_1: 'Icon with text',
    icon_1: 'check',
  %}
{% endcomment %}
<style>
  .icon-with-text__item {
    flex-flow: wrap;
    width: 100%;
  }
  .content-img {
    width: 100%;
  }
  .content-img img {
    width: auto;
    height: 2.8rem;
  }
  .product--media-has-many .list-unstyled li{padding-bottom:0px;}
  {% comment %} .product--media-has-many .list-unstyled li:nth-child(1){border-bottom: 1px solid #C0C0C0; } {% endcomment %}
</style>
{%- liquid
  assign title_font = title_font | default: 'heading'
  assign layout = layout | default: 'horizontal'

  assign heading_css_class = title_size | default: 'h5'
  if title_font == 'body'
    assign heading_css_class = heading_css_class | append: ' font-body'
  else
    assign heading_css_class = heading_css_class | append: ' font-heading'
  endif
-%}
<ul class="icon-with-text icon-with-text--{{ layout }} list-unstyled">
  {%- if heading_1 != blank -%}
    <li class="icon-with-text__item">
      {%- if image_1 != blank -%}
        <img
          src="{{ image_1 | image_url }}"
          {% if image_1.alt != blank %}
            alt="{{ image_1.alt | escape }}"
          {% else %}
            role="presentation"
          {% endif %}
          height="auto"
          width="auto"
          loading="lazy"
        >
      {%- else -%}
        {%- render 'icons', icon: icon_1 -%}
      {%- endif -%}
      <span class="inline-richtext {{ heading_css_class }}">
        {{- heading_1 -}}
      </span>
      {%- if content_image_1 != blank -%}
        <div class="content-img">
          <picture>
            <source
              media="(max-width: 749px)"
              srcset="
                {{ content_image_1 | img_url: '800x' }} 1x,
                {{ content_image_1 | img_url: '1600x' }} 2x
              "
            >
            <source
              media="(min-width: 750px)"
              srcset="
                {{ content_image_1 | img_url: '1200x' }} 1x,
                {{ content_image_1 | img_url: '2400x' }} 2x
              "
            >
            <img
              src="{{ content_image_1 | img_url: '1200x' }}"
              alt="{{content_image_1 | escape }}"
              loading="lazy"
              width="{{ content_image_1.width }}"
              height="{{ content_image_1.height }}"
            >
          </picture>
        </div>
      {% else %}
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
      {% endif %}
    </li>
  {%- endif -%}
  {%- if heading_2 != blank -%}
    <li class="icon-with-text__item">
      {%- if image_2 != blank -%}
        <img
          src="{{ image_2 | image_url }}"
          {% if image_2.alt != blank %}
            alt="{{ image_2.alt | escape }}"
          {% else %}
            role="presentation"
          {% endif %}
          height="auto"
          width="auto"
          loading="lazy"
        >
      {%- else -%}
        {%- render 'icons', icon: icon_2 -%}
      {%- endif -%}
      <span class="inline-richtext {{ heading_css_class }}">
        {{- heading_2 -}}
      </span>
       {%- if content_image_2 != blank -%}
        <div class="content-img">
          <picture>
            <source
              media="(max-width: 749px)"
              srcset="
                {{ content_image_2 | img_url: '800x' }} 1x,
                {{ content_image_2 | img_url: '1600x' }} 2x
              "
            >
            <source
              media="(min-width: 750px)"
              srcset="
                {{ content_image_2 | img_url: '1200x' }} 1x,
                {{ content_image_2 | img_url: '2400x' }} 2x
              "
            >
            <img
              src="{{ content_image_2 | img_url: '1200x' }}"
              alt="{{content_image_2 | escape }}"
              loading="lazy"
              width="{{ content_image_2.width }}"
              height="{{ content_image_2.height }}"
            >
          </picture>
        </div>
      {% else %}
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
      {% endif %}
    </li>
  {%- endif -%}
  {%- if heading_3 != blank -%}
    <li class="icon-with-text__item">
      {%- if image_3 != blank -%}
        <img
          src="{{ image_3 | image_url }}"
          {% if image_3.alt != blank %}
            alt="{{ image_3.alt | escape }}"
          {% else %}
            role="presentation"
          {% endif %}
          height="auto"
          width="auto"
          loading="lazy"
        >
      {%- else -%}
        {%- render 'icons', icon: icon_3 -%}
      {%- endif -%}
      <span class="inline-richtext {{ heading_css_class }}">
        {{- heading_3 -}}
      </span>
    </li>
  {%- endif -%}
</ul>
