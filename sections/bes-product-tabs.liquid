 
    <style>
       .section-{{ section.id }} .responsive-tabs {
            {% comment %} max-width: 1200px; {% endcomment %}
            margin: 0 auto;
            padding: 0px;
        }


        .section-{{ section.id }} .h2-title {line-height:56px;font-size: 46px;text-align:center;padding-bottom:40px;}
      .section-{{ section.id }} .collage-tab__image {width:100%;}


 
        /* PC端样式 */
        @media (min-width: 769px) {
          .section-{{ section.id }}  .tabs-header {
                gap:90px;
                display: flex;
                {% comment %} border-bottom: 2px solid #ddd; {% endcomment %}
                justify-content: center;
            }
            
          .section-{{ section.id }}  .tab-trigger {
                padding: 10px 0px;
                background: none;
                border: none;
                border-bottom: 2px solid transparent;
                cursor: pointer;
                font-size: 16px;
            }
            
           .section-{{ section.id }} .tab-trigger.active {
                border-bottom-color: #3250C3;
                color: #3250C3;
                border-radius:0px;
            }
            
           .section-{{ section.id }} .tabs-content .tab-panel {
                display: none;
                padding: 20px 0 0 0;
                animation: fadeIn 0.5s;
            }
            
          .section-{{ section.id }}  .tabs-content .tab-panel.active {
                display: block;
            }
            
            /* 隐藏移动端特性 */
          .section-{{ section.id }}  .accordion-mode {
                display: none;
            }
        }

        /* 移动端样式 */
        @media (max-width: 768px) {
          .section-{{ section.id }} .h2-title {line-height:34px;font-size: 28px;text-align:left;padding-bottom:15px;}

           .section-{{ section.id }} .tabs-header {
                display: none;
            }
            
          .section-{{ section.id }}  .tabs-content {
                display: none;
            }
            
          .section-{{ section.id }}  .accordion-mode {
                display: block;
            }
            
           .section-{{ section.id }} .accordion-item {
               
                border-radius: 8px;
                margin-bottom: 10px;
                overflow: hidden;
            }

            
            
          .section-{{ section.id }}  .accordion-trigger {
                width: 100%;
               padding: 30px 0px;
                background: #ffffff;
                border: none;
                border-bottom: 1px solid #ddd;
                text-align: left;
                display: flex;
                justify-content: space-between;
                align-items: center;
                cursor: pointer;
                font-size: 16px;
                border-radius: 0px;
                 font-weight:600;
            }
            

          .section-{{ section.id }} .accordion-panel h3{
            font-size: 14px;
            line-height:17px;
            font-weight:500;
            }

          .section-{{ section.id }} .accordion-panel p{
            font-size: 14px;
            line-height:17px;
            font-weight:300;
            }

          .section-{{ section.id }}  .accordion-trigger.active {
                {% comment %} background: #3250C3; {% endcomment %}
                color: #3250C3;
            }

          .section-{{ section.id }}   .accordion-trigger.active span {
               border-bottom: 2px solid #3250C3; /* 2像素宽、实线、蓝色 */
            }

     
            
       
            
          .section-{{ section.id }}  .accordion-icon {
                transition: transform 0.3s;
            }
            
          .section-{{ section.id }}  .accordion-trigger.active .accordion-icon {
                transform: rotate(180deg);
            }


              /* 基础箭头样式 */
             .section-{{ section.id }} .accordion-icon.css-arrow {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                width: 24px;
                height: 24px;
                border: 1.5px solid currentColor;
                border-radius: 50%;
                position: relative;
                transition: transform 0.3s ease;
                /* 移除原先的伪元素基础旋转，将旋转控制完全交给active状态 */
              }

            .section-{{ section.id }}  .accordion-icon.css-arrow::after {
                content: '';
                width: 6px;
                height: 6px;
                border-right: 1.5px solid currentColor;
                border-bottom: 1.5px solid currentColor;
                /* 初始状态：箭头向下（45度是右下箭头，需要调整为向下） */
                transform: rotate(45deg) translateY(0);
                transition: transform 0.3s ease;
              }

              /* 展开状态 - 只旋转伪元素，不旋转整个圆圈 */
             .section-{{ section.id }} .accordion-trigger.active .accordion-icon.css-arrow {
                /* 圆圈容器不旋转，保持原位 */
                transform: none;
              }

            .section-{{ section.id }}  .accordion-trigger.active .accordion-icon.css-arrow::after {
                /* 从向下旋转到向上：-135度是左上箭头（即向上） */
                transform: rotate(-135deg) translateY(0);
              }

              /* 展开状态 - 向上箭头 + 蓝色背景 */
            .section-{{ section.id }}  .accordion-trigger.active .accordion-icon.css-arrow {
                background-color: #3250C3; /* 蓝色背景 - 使用您主题中的蓝色 */
                border-color: #3250C3; /* 边框也改为蓝色，保持协调 */
              }

            .section-{{ section.id }}  .accordion-trigger.active .accordion-icon.css-arrow::after {
                transform: rotate(-135deg); /* 向上箭头 */
                border-color: white; /* 箭头变为白色，在蓝色背景上更明显 */
              }
            
          .section-{{ section.id }}  .accordion-panel {
                padding: 0;
                max-height: 0;
                overflow: hidden;
                transition: all 0.3s ease;
                background: white;
            }
            
          .section-{{ section.id }}  .accordion-panel.active {
                padding: 20px 0;
                max-height: 1000px;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }






        /* PC端样式 */
@media (min-width: 769px) {
  .section-{{ section.id }}  .image-with-overlay {
        position: relative;
        display: block;
        width: 100%;
    }
    
   .section-{{ section.id }} .image-with-overlay .grid-image {
        width: 100%;
        height: auto;
        display: block;
    }
    
   .section-{{ section.id }} .image-with-overlay .text-overlay {
        position: absolute;
        top: 40px;     /* 距图片顶部40px */
        left: 50px;    /* 距图片左边50px */
        color: white;  /* 建议使用白色文字，确保在图片上可读 */
        max-width: 1150px; /* 控制文字最大宽度 */
        z-index: 2;    /* 确保文字在图片上方 */
    }
    
   .section-{{ section.id }} .image-with-overlay .text-overlay h3 {
        margin-top: 0;
        margin-bottom: 12px;
        font-size: 32px;
        line-height:39px;
        font-weight: 600;
        color:#ffffff;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.5); /* 添加文字阴影增强可读性 */
    }
    
   .section-{{ section.id }} .image-with-overlay .text-overlay p {
        margin: 0;
        font-size: 18px;
        line-height:22px;
        font-weight: 400;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }
}

/* 移动端保持原样 - 不需要修改 */
@media (max-width: 768px) {
  .section-{{ section.id }}  .image-with-overlay {
        position: static; /* 重置定位 */
    }
    
   .section-{{ section.id }} .image-with-overlay .text-overlay {
        position: static; /* 移动端恢复文档流 */
        color: inherit;   /* 恢复默认文字颜色 */
        padding: 15px 0;  /* 添加适当间距 */
        max-width: 100%;
    }
}
    </style>

<div
  class="section section-{{ section.id }} section--padding section--collage-tabs page-width color-{{ section.settings.color_scheme }}"
  style="--section-padding-top: {{ section.settings.padding_top }}px;--section-padding-bottom: {{ section.settings.padding_bottom }}px;
  background-color: {{ section.settings.bg_color }};"
  data-id="{{ section.id }}"
>   {%- if section.settings.title !=blank -%}
    <h2 class="h2-title">
      <motion-element class="block" data-motion="fade-up" data-motion-delay="{{ motion_delay }}"> <span>{{ section.settings.title }}</span></motion-element>
    </h2>
    {% endif %}

    <div class="responsive-tabs">
        <!-- 同一套内容，两种展现方式 -->
        <div class="tabs-header">
            {%- for block in section.blocks -%}
              {%- liquid
                if block.settings.navigation_title != blank
                  assign tab_name = block.settings.navigation_title
                else
                  assign tab_name = 'Tab ' | append: forloop.index
                endif
              -%}
              <button class="tab-trigger {% if forloop.first  %}active{% endif %}" data-target="tab{{forloop.index}}">
               {{- tab_name -}}
              </button>
            {%- endfor -%}
            {% comment %} <button class="tab-trigger active" data-target="tab1">标签一</button>
            <button class="tab-trigger" data-target="tab2">标签二</button>
            <button class="tab-trigger" data-target="tab3">标签三</button> {% endcomment %}
        </div>

        <div class="tabs-content">
          {%- for block in section.blocks -%}
            <div class="tab-panel {% if forloop.first  %}active{% endif %}" id="tab{{ forloop.index }}">
              <div class="image-with-overlay">
                   
              <div class="collage-tab__image media-wrapper">
                  {% if block.settings.image != blank %}
                  <picture>
                    <!-- 移动端图片 -->
                    <source
                      media="(max-width: 749px)"
                      srcset="
                        {{ block.settings.mobile_image | img_url: '800x' }} 1x,
                        {{ block.settings.mobile_image | img_url: '1600x' }} 2x
                      "
                    >

                    <!-- 桌面端图片 -->
                    <source
                      media="(min-width: 750px)"
                      srcset="
                        {{ block.settings.image | img_url: '1200x' }} 1x,
                        {{ block.settings.image | img_url: '2400x' }} 2x
                      "
                    >

                    <!-- 默认图片 -->
                    <img
                      src="{{ block.settings.image | img_url: '1200x' }}"
                      alt="{{ block.settings.title | escape }}"
                      class="grid-image"
                      loading="lazy"
                      width="{{ block.settings.image.width }}"
                      height="{{ block.settings.image.height }}"
                    >
                  </picture>
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                {% endif %}
              </div>

                  <div class="text-overlay">
                      <h3>{{block.settings.heading}}</h3>
                      <p>{{block.settings.description}}</p>
                  </div>
              </div>
            </div>
        {%- endfor -%}
        </div>

        <!-- 移动端手风琴结构 -->
        <div class="accordion-mode">

           {%- for block in section.blocks -%}
                {%- liquid
                  if block.settings.navigation_title != blank
                    assign tab_name = block.settings.navigation_title
                  else
                    assign tab_name = 'Tab ' | append: forloop.index
                  endif
                -%}
              <div class="accordion-item">
                  <button class="accordion-trigger {% if forloop.first  %}active{% endif %}" data-target="tab{{ forloop.index }}">
                      <span>{{- tab_name -}}</span>
                      <span class="accordion-icon css-arrow"></span>
                  </button>
                  <div class="accordion-panel {% if forloop.first  %}active{% endif %}" id="mobile-tab{{ forloop.index }}">
                      <h3>{{block.settings.heading}}</h3>
                      <p>{{block.settings.description}}</p>
                        <picture>
                    <!-- 移动端图片 -->
                    <source
                      media="(max-width: 749px)"
                      srcset="
                        {{ block.settings.mobile_image | img_url: '800x' }} 1x,
                        {{ block.settings.mobile_image | img_url: '1600x' }} 2x
                      "
                    >

                    <!-- 桌面端图片 -->
                    <source
                      media="(min-width: 750px)"
                      srcset="
                        {{ block.settings.image | img_url: '1200x' }} 1x,
                        {{ block.settings.image | img_url: '2400x' }} 2x
                      "
                    >

                    <!-- 默认图片 -->
                    <img
                      src="{{ block.settings.image | img_url: '1200x' }}"
                      alt="{{ block.settings.title | escape }}"
                      class="grid-image"
                      loading="lazy"
                      width="{{ block.settings.image.width }}"
                      height="{{ block.settings.image.height }}"
                    >
                  </picture>
                  </div>
              </div>
            {%- endfor -%}

        </div>
    </div>
</div>
    <script>
        class ResponsiveTabs {
            constructor() {
                this.init();
                this.bindEvents();
                window.addEventListener('resize', () => this.handleResize());
            }

            init() {
                this.isMobile = window.innerWidth <= 768;
                this.updateDisplay();
            }

            bindEvents() {
                // PC端标签页事件
                document.querySelectorAll('.tab-trigger').forEach(trigger => {
                    trigger.addEventListener('click', (e) => {
                        if (this.isMobile) return;
                        this.switchTab(e.target.dataset.target);
                    });
                });

                // 移动端手风琴事件
                document.querySelectorAll('.accordion-trigger').forEach(trigger => {
                    trigger.addEventListener('click', (e) => {
                        if (!this.isMobile) return;
                        this.toggleAccordion(e.target.closest('.accordion-trigger'));
                    });
                });
            }

            switchTab(targetId) {
                // 更新PC端标签页
                document.querySelectorAll('.tab-trigger').forEach(t => {
                    t.classList.toggle('active', t.dataset.target === targetId);
                });
                document.querySelectorAll('.tab-panel').forEach(p => {
                    p.classList.toggle('active', p.id === targetId);
                });

                // 同步移动端
                const accordionTrigger = document.querySelector(`.accordion-trigger[data-target="${targetId}"]`);
                const accordionPanel = document.getElementById(`mobile-${targetId}`);
                
                if (accordionTrigger && accordionPanel) {
                    document.querySelectorAll('.accordion-panel').forEach(p => p.classList.remove('active'));
                    document.querySelectorAll('.accordion-trigger').forEach(t => t.classList.remove('active'));
                    
                    accordionTrigger.classList.add('active');
                    accordionPanel.classList.add('active');
                }
            }

            toggleAccordion(trigger) {
                const targetId = trigger.dataset.target;
                const panel = document.getElementById(`mobile-${targetId}`);
                const isActive = trigger.classList.contains('active');

                if (isActive) {
                    trigger.classList.remove('active');
                    panel.classList.remove('active');
                } else {
                    // 关闭其他
                    document.querySelectorAll('.accordion-panel').forEach(p => p.classList.remove('active'));
                    document.querySelectorAll('.accordion-trigger').forEach(t => t.classList.remove('active'));
                    
                    // 打开当前
                    trigger.classList.add('active');
                    panel.classList.add('active');

                    // 同步PC端
                    document.querySelectorAll('.tab-trigger').forEach(t => {
                        t.classList.toggle('active', t.dataset.target === targetId);
                    });
                    document.querySelectorAll('.tab-panel').forEach(p => {
                        p.classList.toggle('active', p.id === targetId);
                    });
                }
            }

            handleResize() {
                const wasMobile = this.isMobile;
                this.isMobile = window.innerWidth <= 768;
                
                if (wasMobile !== this.isMobile) {
                    this.updateDisplay();
                }
            }

            updateDisplay() {
                // 可以根据需要添加初始化状态同步
            }
        }

        // 初始化
        new ResponsiveTabs();
    </script>
{% schema %}
{
  "name": "sf2000-scence-tabs",
  "disabled_on": {
    "groups": ["header", "footer", "custom.overlay"]
  },
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "背景颜色",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "tab_title_color",
      "label": "tab标题文字颜色",
      "default": "#000"
    },
        {
      "type": "text",
      "id": "tab_content_color",
      "label": "tab内容文字颜色",
      "default": "#666"
    },
    {
      "type": "text",
      "id": "title",
      "label": "标题",
      "default": "Geschikt voor Diverse Scenario's"
    },
    {
      "type": "header",
      "content": "t:sections.collage-tabs.settings.tab_settings.content"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "t:sections.all.text_size.heading.label",
      "default": "h4",
      "options": [
        {
          "value": "h6",
          "label": "t:sections.all.text_size.options__h6.label"
        },
        {
          "value": "h5",
          "label": "t:sections.all.text_size.options__h5.label"
        },
        {
          "value": "h4",
          "label": "t:sections.all.text_size.options__h4.label"
        },
        {
          "value": "h3",
          "label": "t:sections.all.text_size.options__h3.label"
        },
        {
          "value": "h2",
          "label": "t:sections.all.text_size.options__h2.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.text_size.options__h1.label"
        },
        {
          "value": "hd3",
          "label": "t:sections.all.text_size.options__hd3.label"
        },
        {
          "value": "hd2",
          "label": "t:sections.all.text_size.options__hd2.label"
        },
        {
          "value": "hd1",
          "label": "t:sections.all.text_size.options__hd1.label"
        }
      ]
    },
    {
      "type": "select",
      "id": "desktop_navigation_alignment",
      "label": "t:sections.collage-tabs.settings.desktop_navigation_alignment.label",
      "default": "center",
      "options": [
        {
          "value": "start",
          "label": "t:sections.collage-tabs.settings.desktop_navigation_alignment.options__1.label"
        },
        {
          "value": "center",
          "label": "t:sections.collage-tabs.settings.desktop_navigation_alignment.options__2.label"
        },
        {
          "value": "end",
          "label": "t:sections.collage-tabs.settings.desktop_navigation_alignment.options__3.label"
        }
      ]
    },
    {
      "type": "select",
      "id": "desktop_image_position",
      "label": "t:sections.all.image_position.desktop.label",
      "default": "left",
      "options": [
        {
          "value": "left",
          "label": "t:sections.all.image_position.options__1.label"
        },
        {
          "value": "right",
          "label": "t:sections.all.image_position.options__2.label"
        }
      ]
    },
    {
      "type": "range",
      "id": "desktop_image_width",
      "label": "t:sections.collage-tabs.settings.desktop_image_width.label",
      "default": 100,
      "min": 30,
      "max": 100,
      "step": 1,
      "unit": "%"
    },
    {
      "type": "select",
      "id": "image_aspect_ratio",
      "label": "t:settings_schema.global.settings.image_ratio.label",
      "default": "adapt",
      "options": [
        {
          "value": "adapt",
          "label": "t:settings_schema.global.settings.image_ratio.options__1.label"
        },
        {
          "value": "1/1",
          "label": "t:settings_schema.global.settings.image_ratio.options__2.label"
        },
        {
          "value": "3/4",
          "label": "t:settings_schema.global.settings.image_ratio.options__3.label"
        },
        {
          "value": "4/3",
          "label": "t:settings_schema.global.settings.image_ratio.options__4.label"
        }
      ]
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:sections.all.padding.padding_top",
      "default": 50,
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 50,
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "t:sections.all.divider.content"
    },
    {
      "type": "checkbox",
      "id": "show_section_divider",
      "default": false,
      "label": "t:sections.all.divider.settings.show_divider.label"
    },
    {
      "type": "select",
      "id": "divider_width",
      "options": [
        {
          "value": "fixed",
          "label": "t:sections.all.container.options__fixed.label"
        },
        {
          "value": "full",
          "label": "t:sections.all.container.options__full.label"
        }
      ],
      "default": "fixed",
      "label": "t:sections.all.divider.settings.divider_width.label"
    }
  ],
  "blocks": [
    {
      "type": "tab",
      "name": "t:sections.collage-tabs.blocks.tab.name",
      "settings": [
        {
          "type": "color_scheme",
          "id": "content_color_scheme",
          "label": "t:sections.all.colors.label",
          "default": "scheme-2"
        },
        {
          "type": "text",
          "label": "t:sections.collage-tabs.blocks.tab.settings.navigation_title.label",
          "id": "navigation_title"
        },
        {
          "type": "image_picker",
          "label": "t:sections.all.image.label",
          "id": "image"
        },
            {
          "type": "image_picker",
          "label": "移动端图像",
          "id": "mobile_image"
        },
        {
          "type": "inline_richtext",
          "id": "heading",
          "label": "t:sections.all.heading.label",
          "default": "Collapsible tabs"
        },
        {
          "type": "select",
          "id": "heading_size",
          "label": "t:sections.all.text_size.heading.label",
          "default": "h1",
          "options": [
            {
              "value": "h6",
              "label": "t:sections.all.text_size.options__h6.label"
            },
            {
              "value": "h5",
              "label": "t:sections.all.text_size.options__h5.label"
            },
            {
              "value": "h4",
              "label": "t:sections.all.text_size.options__h4.label"
            },
            {
              "value": "h3",
              "label": "t:sections.all.text_size.options__h3.label"
            },
            {
              "value": "h2",
              "label": "t:sections.all.text_size.options__h2.label"
            },
            {
              "value": "h1",
              "label": "t:sections.all.text_size.options__h1.label"
            },
            {
              "value": "hd3",
              "label": "t:sections.all.text_size.options__hd3.label"
            },
            {
              "value": "hd2",
              "label": "t:sections.all.text_size.options__hd2.label"
            },
            {
              "value": "hd1",
              "label": "t:sections.all.text_size.options__hd1.label"
            }
          ]
        },
        {
          "type": "header",
          "content": "t:sections.all.highlight_text.header.content"
        },
        {
          "type": "paragraph",
          "content": "t:sections.all.highlight_text.paragraph.content"
        },
        {
          "type": "select",
          "id": "heading_highlight_style",
          "label": "t:sections.all.highlight_text.settings.highlight_style.label",
          "options": [
            {
              "value": "none",
              "label": "t:sections.all.highlight_text.settings.highlight_style.options__1.label"
            },
            {
              "value": "underline",
              "label": "t:sections.all.highlight_text.settings.highlight_style.options__2.label"
            }
          ]
        },
        {
          "type": "text",
          "id": "subheading",
          "label": "t:sections.all.subheading.label"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "t:sections.all.description.label"
        },
        {
          "type": "select",
          "id": "text_size",
          "label": "t:sections.all.text_size.description.label",
          "default": "text-base",
          "options": [
            {
              "value": "text-sm",
              "label": "t:sections.all.text_size.options__small.label"
            },
            {
              "value": "text-base",
              "label": "t:sections.all.text_size.options__base.label"
            },
            {
              "value": "text-lg",
              "label": "t:sections.all.text_size.options__large.label"
            },
            {
              "value": "text-inherit",
              "label": "t:sections.all.text_size.options__inherit.label"
            }
          ]
        },
        {
          "type": "select",
          "id": "text_alignment",
          "label": "t:sections.all.text_alignment.label",
          "default": "center",
          "options": [
            {
              "value": "left",
              "label": "t:sections.all.text_alignment.options__1.label"
            },
            {
              "value": "center",
              "label": "t:sections.all.text_alignment.options__2.label"
            },
            {
              "value": "right",
              "label": "t:sections.all.text_alignment.options__3.label"
            }
          ]
        },
        {
          "type": "header",
          "content": "t:sections.all.button.header.content"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "t:sections.all.button.button_label.label"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.all.button.button_link.label"
        },
        {
          "type": "select",
          "id": "button_style",
          "label": "t:sections.all.button.button_style.label",
          "options": [
            {
              "value": "btn--primary",
              "label": "t:sections.all.button.button_style.options__1.label"
            },
            {
              "value": "btn--secondary",
              "label": "t:sections.all.button.button_style.options__2.label"
            },
            {
              "value": "btn--underline",
              "label": "t:sections.all.button.button_style.options__4.label"
            }
          ],
          "default": "btn--primary"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "阳台专题产品tabs",
      "category": "自定义产品组件",
      "blocks": [
        {
          "type": "tab",
          "settings": {
            "navigation_title": "Tab 1",
            "heading": "Collage tab heading",
            "description": "<p>Fill in the text content of the tab item here. You can provide details information tab item here.</p>",
            "button_label": "Button label"
          }
        },
        {
          "type": "tab",
          "settings": {
            "navigation_title": "Tab 2",
            "heading": "Collage tab heading",
            "description": "<p>Fill in the text content of the tab item here. You can provide details information tab item here.</p>",
            "button_label": "Button label"
          }
        }
      ]
    }
  ]
}
{% endschema %}
